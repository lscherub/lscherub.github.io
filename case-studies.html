<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="shortcut icon" href="images/Letter16.ico" type="image/ico" sizes="16x16">
    <link rel="shortcut icon" href="images/Letter32.ico" type="image/ico" sizes="32x32">
    <link rel="shortcut icon" href="images/Letter96.ico" type="image/ico" sizes="96x96">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="description" content="E-commerce Case Studies - Data-Driven Growth & Optimization">
    <meta name="keywords" content="case studies, e-commerce growth, shopify optimization, SEO, digital marketing">
    <meta name="robots" content="index, follow">
    <meta name="author" content="Loveleen S.">
    <title>Case Studies | loveleen cherub</title>
    <link href="https://fonts.googleapis.com/css?family=Comfortaa:700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Josefin+Sans" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/index.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            overflow-y: auto !important;
            overflow-x: hidden;
            background: rgb(255, 50, 50) !important;
            min-height: 100vh;
        }
        #particles-js { display: none !important; }

        .case-studies-wrapper {
            width: 90vw;
            max-width: 1200px;
            margin: 0 auto;
            padding: 8vh 5vw;
            min-height: 100vh;
            position: relative;
            z-index: 10;
        }

        .back-link { display: inline-block; margin: 20px 0; color: #fff; text-decoration: none; font-size: 1.1em; transition: all 0.3s; }
        .back-link:hover { transform: translateX(-5px); opacity: 0.8; }

        .page-header { text-align: center; margin-bottom: 5vh; }
        .page-header h1 { font-size: 60px; color: #fff; text-decoration: underline; margin-bottom: 2vh; }
        .page-header p  { font-size: 21px; opacity: 0.9; color: white; }

        .intro-section { text-align: center; max-width: 800px; margin: 0 auto 8vh; }
        .intro-section p { font-size: 18px; line-height: 1.8; color: white; }

        /* Web Projects */
        .web-projects-section { margin: 8vh 0; padding: 40px; border-radius: 1.25rem; border: 2px solid rgba(255,255,255,0.3); }
        .web-projects-section h2 { font-size: 40px; color: #fff; text-decoration: underline; margin-bottom: 10px; }
        .section-description { font-size: 18px; opacity: 0.9; margin-bottom: 30px; color: white; }
        .projects-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 25px; margin-top: 30px; }
        .project-card { background: rgba(0,0,0,0.3); padding: 25px; border-radius: 15px; border: 2px solid rgba(255,255,255,0.3); transition: all 0.4s ease-in-out; text-decoration: none; color: #fff; display: block; }
        .project-card:hover { transform: translateY(-5px); background: rgba(0,0,0,0.5); border-color: #fff; }
        .project-card h3 { font-size: 22px; margin-bottom: 10px; color: #fff; }
        .project-card p  { font-size: 16px; opacity: 0.9; line-height: 1.6; margin-bottom: 15px; }
        .project-tags { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 15px; }
        .project-tag  { font-size: 12px; padding: 5px 12px; background: rgba(255,255,255,0.2); border-radius: 20px; border: 1px solid rgba(255,255,255,0.3); }
        .project-link-icon { font-size: 14px; opacity: 0.7; margin-left: 5px; }

        /* Case Studies */
        .case-study { border-radius: 1.25rem; padding: 40px; margin: 8vh 0; border: 2px solid rgba(255,255,255,0.3); }
        .case-study h2 { font-size: 40px; margin-bottom: 20px; color: #fff; text-decoration: underline; }
        .case-study h3 { font-size: 28px; margin: 30px 0 10px; color: #fff; }
        .case-study p  { font-size: 18px; line-height: 1.8; margin: 15px 0; color: white; }

        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin: 30px 0; }
        .stat-card { background: rgba(0,0,0,0.2); padding: 25px; border-radius: 15px; text-align: center; border: 2px solid rgba(255,255,255,0.4); transition: 0.4s ease-in-out; }
        .stat-card:hover { background: rgba(0,0,0,0.4); transform: translateY(-5px); }
        .stat-number { font-size: 2.5em; font-weight: bold; color: #fff; display: block; margin-bottom: 10px; }
        .stat-label  { font-size: 0.9em; opacity: 0.9; color: white; }

        /* Comparison legend strip */
        .comparison-note {
            display: flex; align-items: center; gap: 20px; flex-wrap: wrap;
            background: rgba(0,0,0,0.25); border-radius: 10px;
            padding: 10px 18px; margin-bottom: 5px;
            font-size: 14px; color: #fff;
        }
        .comparison-note span { display: flex; align-items: center; gap: 7px; }
        .legend-dot { width: 12px; height: 12px; border-radius: 50%; display: inline-block; flex-shrink: 0; }

        .chart-container { position: relative; height: 400px; margin: 10px 0 40px; background: rgba(0,0,0,0.4); padding: 20px; border-radius: 15px; border: 1px solid rgba(255,255,255,0.2); }

        .methodology { background: white; padding: 25px; border-radius: 15px; margin: 20px 0; border-left: 2px solid #000; border-right: 2px solid #000; }
        .methodology h4 { margin-bottom: 15px; font-size: 21px; }
        .methodology ul { list-style-position: inside; opacity: 0.9; }
        .methodology li { margin: 10px 0; padding-left: 10px; font-size: 16px; }

        @media (max-width: 800px) {
            .page-header h1 { font-size: 40px; }
            .case-study { padding: 25px; }
            .case-study h2 { font-size: 30px; }
            .case-study h3 { font-size: 22px; }
            .chart-container { height: 300px; }
            .stats-grid { grid-template-columns: 1fr; }
            .web-projects-section { padding: 25px; }
            .web-projects-section h2 { font-size: 30px; }
            .projects-grid { grid-template-columns: 1fr; }
            .comparison-note { font-size: 12px; gap: 12px; }
        }
    </style>
</head>
<body>
<div class="case-studies-wrapper">

    <a href="/" class="back-link"><i class="fas fa-arrow-left"></i> back to home</a>

    <!-- WEB PROJECTS -->
    <section class="web-projects-section">
        <h2>web projects & development<blink>.</blink></h2>
        <p class="section-description">websites and projects i've built or contributed to</p>
        <div id="projects-grid" class="projects-grid"></div>
    </section>

    <!-- PAGE HEADER -->
    <div class="page-header">
        <h1>case studies<blink>.</blink></h1>
        <p>data-driven e-commerce growth & optimization</p>
    </div>
    <div class="intro-section">
        <p>these case studies showcase measurable e-commerce growth achieved through strategic SEO implementation, platform optimization, and data-driven marketing. all projects were executed as part of <strong>Mad Monkey Media</strong>, providing comprehensive digital operations and growth consulting to multi-brand clients.</p>
    </div>

    <!-- ══════════════════════════════════
         GEGRA CONSTRUCTION
    ═══════════════════════════════════ -->
    <div class="case-study">
        <h2>gegra construction & rental equipment</h2>
        <p><strong>challenge:</strong> a B2B construction equipment retailer with minimal online presence needed to scale website traffic and establish organic search visibility to compete with established industry players.</p>

        <div class="stats-grid">
            <div class="stat-card"><span class="stat-number">714%</span><span class="stat-label">Traffic Growth (6 months)</span></div>
            <div class="stat-card"><span class="stat-number">7.3K → 59K</span><span class="stat-label">Users (period-over-period)</span></div>
            <div class="stat-card"><span class="stat-number">6,100+</span><span class="stat-label">Organic Search Sessions</span></div>
            <div class="stat-card"><span class="stat-number">~200×</span><span class="stat-label">vs Same Months Prior Year</span></div>
        </div>

        <div class="methodology">
            <h4>strategy & implementation:</h4>
            <ul>
                <li><strong>technical SEO:</strong> google merchant center integration, bing webmaster tools setup, domain architecture optimization</li>
                <li><strong>infrastructure:</strong> cloudflare CDN configuration for performance and security</li>
                <li><strong>content optimization:</strong> product catalog restructuring with keyword-optimized titles and descriptions</li>
                <li><strong>platform:</strong> shopify with custom liquid templating</li>
            </ul>
        </div>

        <h3>monthly visitors — current vs prior year</h3>
        <div class="comparison-note">
            <span><span class="legend-dot" style="background:#fff;"></span>Jun 2025 – Jan 2026 (during my work)</span>
            <span><span class="legend-dot" style="background:rgba(255,255,255,0.4);border:1px dashed #fff;"></span>same months prior year</span>
        </div>
        <div class="chart-container"><canvas id="gegraTrafficChart"></canvas></div>

        <h3>traffic source breakdown</h3>
        <div class="chart-container" style="height:300px;"><canvas id="gegraSourcesChart"></canvas></div>

        <p><strong>result:</strong> transformed from near-zero organic visibility (single-digit monthly visitors) to a competitive online presence peaking at 32,958 visitors in a single month — roughly 200× the traffic recorded in the same months the prior year.</p>
    </div>

    <!-- ══════════════════════════════════
         AURA NATURAL MARKET
    ═══════════════════════════════════ -->
    <div class="case-study">
        <h2>aura natural market</h2>
        <p><strong>challenge:</strong> an organic supplements and grocery e-commerce store needed to improve search visibility, streamline product catalog management, and enhance user experience for health-conscious consumers navigating dietary restrictions.</p>

        <div class="stats-grid">
            <div class="stat-card"><span class="stat-number">29%</span><span class="stat-label">Traffic Growth (period-over-period)</span></div>
            <div class="stat-card"><span class="stat-number">43K → 56K</span><span class="stat-label">Users (6 months)</span></div>
            <div class="stat-card"><span class="stat-number">2,000+</span><span class="stat-label">Products Updated Monthly</span></div>
            <div class="stat-card"><span class="stat-number">~31%</span><span class="stat-label">Avg Checkout Conversion</span></div>
        </div>

        <div class="methodology">
            <h4>strategy & implementation:</h4>
            <ul>
                <li><strong>product catalog management:</strong> managed 2,000+ monthly product updates including photography, SEO-optimized descriptions, pricing, and inventory sync</li>
                <li><strong>custom development:</strong> built metafield-based dietary tagging system (vegan, dairy-free, gluten-free) with custom liquid scripting for dynamic filtering</li>
                <li><strong>UX enhancement:</strong> created "shop by diet" homepage section and smart collections for improved product discovery</li>
                <li><strong>customer guidance:</strong> developed interactive quiz/recommendation tool for new supplement customers</li>
                <li><strong>SEO & content:</strong> established comprehensive SOPs for consistent, high-quality product content</li>
            </ul>
        </div>
        
        <h3>monthly visitors — current vs prior year</h3>
        <div class="comparison-note">
            <span><span class="legend-dot" style="background:#fff;"></span>Jun 2025 – Jan 2026 (during my work)</span>
            <span><span class="legend-dot" style="background:rgba(255,255,255,0.4);border:1px dashed #fff;"></span>same months prior year</span>
        </div>
        <div class="chart-container"><canvas id="auraTrafficChart"></canvas></div>

        <h3>checkout conversion rate — current vs prior year</h3>
        <div class="comparison-note">
            <span><span class="legend-dot" style="background:#fff;"></span>Jun 2025 – Jan 2026</span>
            <span><span class="legend-dot" style="background:rgba(255,255,255,0.4);border:1px dashed #fff;"></span>same months prior year</span>
        </div>
        <div class="chart-container"><canvas id="auraConversionChart"></canvas></div>

        <p><strong>result:</strong> consistent month-over-month visitor growth with checkout conversion rates running 4–10 percentage points above the prior-year baseline, confirming that improved product discovery and UX directly translated into more purchases.</p>
    </div>

    <!-- ══════════════════════════════════
         STF HOME & FURNITURE
    ═══════════════════════════════════ -->
    <div class="case-study">
        <h2>STF home & furniture</h2>
        <p><strong>challenge:</strong> a local vancouver furniture retailer with stagnant instagram performance and limited advertising budget needed to drive targeted website traffic and prove ROI on paid advertising.</p>

        <div class="stats-grid">
            <div class="stat-card"><span class="stat-number">$0.10</span><span class="stat-label">Cost Per Click (campaign peak)</span></div>
            <div class="stat-card"><span class="stat-number">58%</span><span class="stat-label">Better than Industry Avg ($0.24)</span></div>
            <div class="stat-card"><span class="stat-number">16,920</span><span class="stat-label">Total Link Clicks</span></div>
            <div class="stat-card"><span class="stat-number">1,047%</span><span class="stat-label">Facebook Sessions vs Prior Year</span></div>
        </div>

        <div class="methodology">
            <h4>strategy & implementation:</h4>
            <ul>
                <li><strong>campaign design:</strong> meta (facebook) traffic campaign with $20/day budget (later reduced to $5)</li>
                <li><strong>creative strategy:</strong> leveraged vendor-supplied product imagery without additional creative budget</li>
                <li><strong>targeting:</strong> custom audience segmentation by interest, age group, and local geography</li>
                <li><strong>optimization:</strong> continuous A/B testing with top-performing creatives running longer</li>
                <li><strong>copywriting:</strong> AI-assisted ad copy for headlines, primary text, and descriptions</li>
            </ul>
        </div>
        
        <h3>cost per click — my campaign vs industry benchmark</h3>
        <div class="comparison-note">
            <span><span class="legend-dot" style="background:#fff;"></span>my campaign</span>
            <span><span class="legend-dot" style="background:rgba(255,255,255,0.4);border:1px dashed #fff;"></span>industry average</span>
        </div>
        <div class="chart-container" style="height:300px;"><canvas id="stfCPCChart"></canvas></div>

        <h3>facebook sessions — campaign period vs prior year</h3>
        <div class="comparison-note">
            <span><span class="legend-dot" style="background:#fff;"></span>Feb–Apr 2025 (campaign active)</span>
            <span><span class="legend-dot" style="background:rgba(255,255,255,0.4);border:1px dashed #fff;"></span>same period 2024 (before campaign)</span>
        </div>
        <div class="chart-container" style="height:300px;"><canvas id="stfSessionsChart"></canvas></div>

        <h3>weekly link clicks over campaign lifetime</h3>
        <div class="chart-container"><canvas id="stfTimelineChart"></canvas></div>
        
        <p><strong>result:</strong> achieved exceptional cost efficiency ($0.12 CPC, 49% below industry average during peak performance) and drove a 1,047% increase in facebook referral traffic (26,946 sessions vs. 2,347 same period prior year). campaign also contributed to instagram follower growth from ~1,500 to 2,000.</p>
        <p style="margin-top:20px;opacity:0.8;"><em>note: full case study available on <a href="https://www.behance.net/gallery/227399291/Case-Studies-for-Local-Furniture-Brand-AD" target="_blank" style="color:#fff;text-decoration:underline;">behance</a>.</em></p>
    </div>

    <!-- DYNAMIC CASE STUDIES -->
    <div id="dynamic-case-studies"></div>

</div>

<script>
// ─────────────────────────────────────────────
// SHARED HELPERS
// ─────────────────────────────────────────────
Chart.defaults.color       = '#fff';
Chart.defaults.borderColor = 'rgba(255,255,255,0.15)';

const GY = { color: 'rgba(255,255,255,0.1)' };
const GX = { color: 'rgba(255,255,255,0.05)' };

function lineSet(label, data, solid) {
    return {
        label, data,
        borderColor:     solid ? '#fff' : 'rgba(255,255,255,0.45)',
        backgroundColor: solid ? 'rgba(255,255,255,0.12)' : 'rgba(255,255,255,0.04)',
        borderDash:      solid ? [] : [6, 4],
        tension: 0.4, fill: true, pointRadius: 4, pointHoverRadius: 6
    };
}

function barSet(label, data, solid) {
    return {
        label, data,
        backgroundColor: solid ? 'rgba(255,255,255,0.8)' : 'rgba(255,255,255,0.25)',
        borderColor:     solid ? '#fff' : 'rgba(255,255,255,0.5)',
        borderWidth: 2
    };
}

const sharedTooltip = { mode: 'index', intersect: false };
const sharedLegend  = { display: true, position: 'top' };

const MONTHS = ['Jun','Jul','Aug','Sep','Oct','Nov','Dec','Jan'];

// ─────────────────────────────────────────────
// GEGRA — visitors current vs prior year
// ─────────────────────────────────────────────
new Chart(document.getElementById('gegraTrafficChart'), {
    type: 'line',
    data: {
        labels: MONTHS,
        datasets: [
            lineSet('Jun 2025 – Jan 2026 (your work)',    [1406,1836,1232,13092,32958,5573,1374,2072], true),
            lineSet('Same months prior year (baseline)',  [23,537,13,4,371,481,1159,941],             false)
        ]
    },
    options: {
        responsive: true, maintainAspectRatio: false,
        plugins: { legend: sharedLegend, tooltip: sharedTooltip },
        scales: { y: { beginAtZero: true, grid: GY, ticks: { callback: v => v.toLocaleString() } }, x: { grid: GX } }
    }
});

// ─────────────────────────────────────────────
// GEGRA — traffic sources doughnut
// ─────────────────────────────────────────────
new Chart(document.getElementById('gegraSourcesChart'), {
    type: 'doughnut',
    data: {
        labels: ['Direct', 'Organic Search', 'Other', 'Social'],
        datasets: [{
            data: [54524, 6130, 1153, 94],
            backgroundColor: ['rgba(255,255,255,0.9)','rgba(255,255,255,0.65)','rgba(255,255,255,0.4)','rgba(255,255,255,0.2)'],
            borderColor: 'rgba(0,0,0,0.4)', borderWidth: 2
        }]
    },
    options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'right' } } }
});

// ─────────────────────────────────────────────
// AURA — visitors current vs prior year
// ─────────────────────────────────────────────
new Chart(document.getElementById('auraTrafficChart'), {
    type: 'line',
    data: {
        labels: MONTHS,
        datasets: [
            lineSet('Jun 2025 – Jan 2026 (your work)',   [6219,7172,7552,6706,10123,10434,9849,8916], true),
            lineSet('Same months prior year (baseline)', [571,6005,5803,7888,7807,7006,7561,6424],   false)
        ]
    },
    options: {
        responsive: true, maintainAspectRatio: false,
        plugins: { legend: sharedLegend, tooltip: sharedTooltip },
        scales: { y: { beginAtZero: true, grid: GY, ticks: { callback: v => v.toLocaleString() } }, x: { grid: GX } }
    }
});

// ─────────────────────────────────────────────
// AURA — checkout conversion rate current vs prior year
// ─────────────────────────────────────────────
new Chart(document.getElementById('auraConversionChart'), {
    type: 'bar',
    data: {
        labels: MONTHS,
        datasets: [
            barSet('Jun 2025 – Jan 2026 (%)',        [38.96,35.58,31.64,32.29,30.09,30.63,35.40,27.23], true),
            barSet('Same months prior year (%)',     [17.65,34.56,25.63,25.94,25.93,29.38,23.24,27.72], false)
        ]
    },
    options: {
        responsive: true, maintainAspectRatio: false,
        plugins: { legend: sharedLegend, tooltip: sharedTooltip },
        scales: {
            y: { beginAtZero: true, max: 50, grid: GY, ticks: { callback: v => v + '%' } },
            x: { grid: GX }
        }
    }
});

// ─────────────────────────────────────────────
// STF — CPC comparison (3 bars)
// ─────────────────────────────────────────────
new Chart(document.getElementById('stfCPCChart'), {
    type: 'bar',
    data: {
        labels: ['My Campaign (peak)', 'My Campaign (avg)', 'Industry Average'],
        datasets: [{
            label: 'Cost Per Click ($)',
            data: [0.10, 0.12, 0.24],
            backgroundColor: ['rgba(255,255,255,0.9)','rgba(255,255,255,0.65)','rgba(255,255,255,0.25)'],
            borderColor:     ['#fff','#fff','rgba(255,255,255,0.5)'],
            borderWidth: 2
        }]
    },
    options: {
        responsive: true, maintainAspectRatio: false,
        plugins: { legend: { display: false }, tooltip: sharedTooltip },
        scales: {
            y: { beginAtZero: true, max: 0.32, grid: GY, ticks: { callback: v => '$' + v.toFixed(2) } },
            x: { grid: GX }
        }
    }
});

// ─────────────────────────────────────────────
// STF — Facebook sessions campaign vs prior year
// ─────────────────────────────────────────────
new Chart(document.getElementById('stfSessionsChart'), {
    type: 'bar',
    data: {
        labels: ['Facebook Sessions (Feb – Apr)'],
        datasets: [
            barSet('2025 — campaign active',           [26946], true),
            barSet('2024 — same period, no campaign',  [2347],  false)
        ]
    },
    options: {
        responsive: true, maintainAspectRatio: false,
        plugins: { legend: sharedLegend, tooltip: sharedTooltip },
        scales: { y: { beginAtZero: true, grid: GY, ticks: { callback: v => v.toLocaleString() } }, x: { grid: GX } }
    }
});

// ─────────────────────────────────────────────
// STF — weekly link clicks over campaign
// ─────────────────────────────────────────────
new Chart(document.getElementById('stfTimelineChart'), {
    type: 'line',
    data: {
        labels: ['Wk1','Wk2','Wk3','Wk4','Wk5','Wk6','Wk7','Wk8','Wk9','Wk10','Wk11','Wk12'],
        datasets: [ lineSet('Weekly Link Clicks', [180,210,195,205,220,200,190,185,175,165,120,95], true) ]
    },
    options: {
        responsive: true, maintainAspectRatio: false,
        plugins: {
            legend: sharedLegend,
            tooltip: sharedTooltip,
            annotation: {
                annotations: {
                    budgetCut: {
                        type: 'line', xMin: 9.5, xMax: 9.5,
                        borderColor: 'rgba(255,255,255,0.55)', borderWidth: 2, borderDash: [5,5],
                        label: { content: 'Budget cut to $5/day', display: true, position: 'start', color: '#fff', font: { size: 11 } }
                    }
                }
            }
        },
        scales: { y: { beginAtZero: true, grid: GY }, x: { grid: GX } }
    }
});


// ═══════════════════════════════════════════════════
// DYNAMIC CASE STUDIES — from case-studies.json
// ═══════════════════════════════════════════════════
const DONUT_COLORS = [
    'rgba(255,255,255,0.9)','rgba(255,255,255,0.7)',
    'rgba(255,255,255,0.5)','rgba(255,255,255,0.3)','rgba(255,255,255,0.15)'
];
let dynId = 2000;

function buildDynamicChart(canvasId, cd) {
    const ctx = document.getElementById(canvasId);
    if (!ctx) return;
    const type = cd.type || 'line';
    let datasets;

    if (type === 'doughnut' || type === 'pie') {
        datasets = [{ data: cd.data, backgroundColor: DONUT_COLORS, borderColor: 'rgba(0,0,0,0.4)', borderWidth: 2 }];
    } else if (type === 'bar') {
        datasets = [ barSet(cd.label || 'Current', cd.data, true) ];
        if (cd.comparisonData) datasets.push(barSet(cd.comparisonLabel || 'Previous Period', cd.comparisonData, false));
    } else {
        datasets = [ lineSet(cd.label || 'Current', cd.data, true) ];
        if (cd.comparisonData) datasets.push(lineSet(cd.comparisonLabel || 'Previous Period', cd.comparisonData, false));
    }

    const tickCb = cd.yFormat === 'currency' ? v => '$'+v.toFixed(2)
                 : cd.yFormat === 'percent'   ? v => v+'%'
                 : v => v.toLocaleString();

    new Chart(ctx, {
        type,
        data: { labels: cd.labels, datasets },
        options: {
            responsive: true, maintainAspectRatio: false,
            plugins: { legend: sharedLegend, tooltip: sharedTooltip },
            scales: (type === 'doughnut' || type === 'pie') ? {} : {
                y: { beginAtZero: true, max: cd.yMax || undefined, grid: GY, ticks: { callback: tickCb } },
                x: { grid: GX }
            }
        }
    });
}

function renderDynamicCaseStudy(cs, container) {
    const id = `dcs-${dynId++}`;
    const section = document.createElement('div');
    section.className = 'case-study';
    let html = `<h2>${cs.name}</h2>`;
    if (cs.challenge) html += `<p><strong>challenge:</strong> ${cs.challenge}</p>`;

    if (cs.stats && cs.stats.length) {
        html += '<div class="stats-grid">';
        cs.stats.forEach(s => {
            html += `<div class="stat-card"><span class="stat-number">${s.value}</span><span class="stat-label">${s.label}</span></div>`;
        });
        html += '</div>';
    }

    if (cs.methodology && cs.methodology.length) {
        html += `<div class="methodology"><h4>strategy & implementation:</h4><ul>`;
        cs.methodology.forEach(m => { html += `<li><strong>${m.label}:</strong> ${m.detail}</li>`; });
        html += `</ul></div>`;
    }

    if (cs.charts && cs.charts.length) {
        cs.charts.forEach((cd, i) => {
            const cid = `${id}-c${i}`;
            const h   = (cd.type === 'doughnut' || cd.type === 'pie') ? '300px' : '400px';
            html += `<h3>${cd.title}</h3>`;
            if (cd.comparisonData) {
                html += `<div class="comparison-note">
                    <span><span class="legend-dot" style="background:#fff;"></span>${cd.label || 'Current'}</span>
                    <span><span class="legend-dot" style="background:rgba(255,255,255,0.4);border:1px dashed #fff;"></span>${cd.comparisonLabel || 'Previous Period'}</span>
                </div>`;
            }
            html += `<div class="chart-container" style="height:${h}"><canvas id="${cid}"></canvas></div>`;
        });
    }

    if (cs.result) html += `<p><strong>result:</strong> ${cs.result}</p>`;
    if (cs.link)   html += `<p style="margin-top:20px;opacity:0.8;"><em>view live: <a href="${cs.link}" target="_blank" style="color:#fff;text-decoration:underline;">${cs.link}</a></em></p>`;

    section.innerHTML = html;
    container.appendChild(section);
    if (cs.charts) cs.charts.forEach((cd, i) => buildDynamicChart(`${id}-c${i}`, cd));
}

async function loadDynamicCaseStudies() {
    const container = document.getElementById('dynamic-case-studies');
    try {
        const studies = await (await fetch('case-studies.json')).json();
        if (studies.length) studies.forEach(cs => renderDynamicCaseStudy(cs, container));
    } catch (e) { console.info('No dynamic case studies:', e.message); }
}

loadDynamicCaseStudies();


// ═══════════════════════════════════════════════════
// PROJECTS — from projects.json
// ═══════════════════════════════════════════════════
async function loadProjects() {
    try {
        const projects = await (await fetch('projects.json')).json();
        const grid = document.getElementById('projects-grid');
        if (!projects.length) { grid.innerHTML = '<p style="text-align:center;opacity:0.7;">no projects added yet</p>'; return; }
        projects.forEach(p => {
            const card = document.createElement('a');
            card.className = 'project-card';
            card.href = p.url; card.target = '_blank'; card.rel = 'noopener noreferrer';
            let tags = '';
            if (p.tags && p.tags.length) {
                tags = '<div class="project-tags">' + p.tags.map(t => `<span class="project-tag">${t}</span>`).join('') + '</div>';
            }
            card.innerHTML = `<h3>${p.name} <i class="fas fa-external-link-alt project-link-icon"></i></h3><p>${p.description}</p>${tags}`;
            grid.appendChild(card);
        });
    } catch (e) {
        document.getElementById('projects-grid').innerHTML = '<p style="text-align:center;opacity:0.7;">projects will appear here once you add them to projects.json</p>';
    }
}

loadProjects();
</script>
</body>
</html>
